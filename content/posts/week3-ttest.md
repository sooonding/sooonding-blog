---
title: "week3(데이터 전처리, t-test)"
slug: "week3-ttest"
description: "데이터 전처리, t-test"
tags: ["DA"]
author: "seongjin jeon"
date: "2025-07-27"
modifiedDate: "2025-07-27T23:57:00.000Z"
notionId: "23d9b006-ca58-807b-9056-e4be0f179bc9"
---
# 데이터 전처리 


## 왜 전처리가 중요한가?


데이터 분석에서  전처리는 전체 작업의 80%를 차지합니다. 마치 요리할 때 재료를 손질하는 것과 같다. 아무리 좋은 레시피가 있어도 썩은 재료로는 맛있는 음식을 만들 수 없기에


## 핵심 체크리스트


### 1단계: 데이터 개요 파악


**새로운 동네 둘러보기**

- 데이터 크기 확인 (몇 개 행/열?)
- 각 컬럼이 무엇을 의미하는지 파악
- 데이터 타입 확인 (숫자/텍스트/날짜)

### 2단계: 결측치 처리


**빈 칸 메우기**

- **5% 미만**: 해당 행 삭제
- **숫자 데이터**: 평균값으로 대체
- **범주형 데이터**: 최빈값으로 대체
- **비즈니스 로직**: 맥락에 맞게 처리 (소득 없음 = 0)

### 3단계: 이상치 처리


**극단값 다루기**

- **탐지**: 박스플롯으로 시각화
- **처리 방법**: 제거 vs 변환 vs 상한선 설정
- **주의**: 신중하게 판단 (중요한 정보일 수도)

### 4단계: 데이터 타입 최적화


**메모리 효율화**

- 범주형 데이터는 category 타입으로
- 숫자 범위에 맞는 최소 타입 사용
- **효과**: 메모리 30-70% 절약 가능

### 5단계: 중복 제거


**같은 데이터 정리**

- 완전 중복: 삭제
- 부분 중복: 최신 데이터 유지 또는 비즈니스 규칙 적용

### 6단계: 일관성 검증


**형태 통일하기**

- 날짜 형식 통일 (YYYY-MM-DD)
- 범주 표기 통일 (남/여 → M/F)
- 비즈니스 로직 검증 (시작일 < 종료일)

### 7단계: 최종 검증


**마지막 점검**

- 데이터 품질 점수 계산
- 결측치/중복/이상치 최종 확인
- 처리 전후 비교

## 핵심 원칙


**해야 할 것**

- 원본 데이터 백업 필수
- 단계별 검증
- 도메인 지식 활용

**하지 말아야 할 것**

- **무분별한 삭제**
- 모든 컬럼에 동일한 처리
- 검증 없는 진행

# t-test


## 왜 t-test를 사용하는가?


t-test는 **"두 개의 집단이 실제로 다른지, 아니면 우연히 차이가 난 것인지"**를 판단하기 위해 사용합니다.


### 집단이란 무엇인가?


통계에서 **집단**이란 **표본(샘플)**을 의미합니다. 하지만 이를 이해하려면 먼저 모집단과 표본의 차이를 알아야 합니다.


**모집단(Population)**: 우리가 관심있는 **전체** 집단

- 예: 한국의 모든 20대, 전국의 모든 고등학생, 서울시 모든 카페

**표본(Sample)**: 모집단에서 실제로 조사한 **일부**

- 예: 조사한 500명의 20대, 설문에 응답한 300명의 고등학생, 방문한 50개 카페

**왜 표본을 사용하나요?**

- 모집단 전체를 조사하는 것은 시간과 비용상 불가능
- 잘 선택된 표본으로도 모집단의 특성을 추정할 수 있음

## 핵심 원리


### 평균의 차이를 보는 이유


**두 집단의 평균값이 통계적으로 같은지 다른지를 확인합니다.**


평균을 보는 이유는 평균이 **그 집단을 가장 잘 대표하는 값**이기 때문입니다.


### 핵심 질문: "의미있는 차이 vs 우연"


**상황 예시:**
회사 남직원 평균 연봉 500만원, 여직원 평균 연봉 480만원


**20만원 차이가 의미있는 차이일까? 우연일까?**


이 질문에 답하기 위해 t-test가 고려하는 요소들:

1. **차이의 크기**: 20만원이 크냐 작냐?
2. **데이터의 변동성**: 개인차가 크냐 작냐?
3. **표본 크기**: 조사한 사람이 많냐 적냐?

**변동성의 중요성:**

- **변동성이 작은 경우**: 대부분 비슷한 연봉 → 20만원 차이는 의미있음
- **변동성이 큰 경우**: 개인차가 매우 큼 → 20만원 차이는 우연일 수 있음

## t-test의 종류와 사용법


### 1. 일표본 t-test (One-sample t-test)


**언제 사용**: 한 그룹의 평균이 특정 기준값과 다른지 확인할 때


**예시**: 우리 회사 직원들의 평균 연봉이 전국 평균 3500만원과 다른가?


**가설 설정**:

- 귀무가설(H₀): 우리 회사 평균 = 3500만원
- 대립가설(H₁): 우리 회사 평균 ≠ 3500만원

**실제 상황**:
우리 회사 50명 조사 결과 평균 3800만원이 나왔다면, 이 300만원 차이가 의미있는 차이인지 우연인지 판단


### 2. 독립표본 t-test (Independent t-test)


**언제 사용**: 서로 다른 두 그룹의 평균을 비교할 때


**예시**: 남자와 여자의 평균 키 차이


**특징**: 완전히 다른 개체들을 비교


```plain text
남자 그룹: 175, 180, 170, 185, 178cm (평균 177.6cm)
여자 그룹: 162, 158, 165, 160, 155cm (평균 160cm)
차이: 17.6cm → 이게 우연일까 진짜일까?
```


**가설 설정**:

- 귀무가설(H₀): 남자 평균키 = 여자 평균키
- 대립가설(H₁): 남자 평균키 ≠ 여자 평균키

### 3. 대응표본 t-test (Paired t-test)


**언제 사용**: 같은 사람들을 전후 비교할 때


**예시**: 다이어트 프로그램 전후 체중 변화


**특징**: 동일한 개체의 변화를 측정


```plain text
사람A: 70kg → 68kg (2kg 감소)
사람B: 80kg → 77kg (3kg 감소)
사람C: 65kg → 64kg (1kg 감소)
평균 감소: 2kg → 이게 우연일까 진짜 효과일까?
```


**가설 설정**:

- 귀무가설(H₀): 전후 체중 차이 = 0 (효과 없음)
- 대립가설(H₁): 전후 체중 차이 ≠ 0 (효과 있음)

## t-value와 p-value 이해하기


### t-value란?


**t-value = 신호 / 노이즈**


더 정확히는:


```plain text
t-value = (관찰된 차이) / (표준오차)
```


**해석**:

- **t-value가 클수록**: 더 확실한 차이
- **t-value가 작을수록**: 우연일 가능성이 높음

**기준**:

- |t| < 2: 별로 확실하지 않음
- |t| ≥ 2: 의미있는 차이로 볼 수 있음
- |t| ≥ 3: 매우 확실한 차이

### p-value란?


**"우연히 이런 결과가 나올 확률"**


**해석**:

- p < 0.05: "우연일 확률이 5% 미만 → 의미있는 차이!"
- p ≥ 0.05: "우연일 가능성이 5% 이상 → 차이가 있다고 확신할 수 없음"

**실제 예시**:
남녀 키 차이 분석에서 p = 0.001이 나왔다면
→ "성별에 따른 키 차이가 우연일 확률은 0.1%에 불과하다"
→ "99.9% 확신으로 남녀 간 키 차이가 실제로 존재한다"


## 가설검정의 전체 과정


### 단계별 진행


**1단계: 가설 설정**

- 귀무가설(H₀): 차이가 없다
- 대립가설(H₁): 차이가 있다

**2단계: 유의수준 설정**

- 보통 α = 0.05 (5%) 사용

**3단계: 데이터 수집 및 t-value 계산**


**4단계: p-value 확인**


**5단계: 결론 도출**

- p < 0.05 → 귀무가설 기각 → "차이가 있다"
- p ≥ 0.05 → 귀무가설 채택 → "차이가 있다고 할 수 없다"

### 예시: 온라인 광고 효과 분석


**상황**: A/B 테스트로 두 가지 광고의 클릭률 비교


**데이터**:

- 광고A: 100명 중 12명 클릭 (12%)
- 광고B: 100명 중 8명 클릭 (8%)

**질문**: 4% 차이가 의미있는 차이인가?


**분석 과정**:

1. 독립표본 t-test 실시
2. t-value = 1.2, p-value = 0.23
3. p > 0.05이므로 "두 광고 간 클릭률에 유의한 차이가 없다"

## t-test 사용 조건과 주의사항


### 사용 가능한 조건


**1. 연속형 데이터**

- 키, 몸무게, 점수, 시간, 금액 등
- 순서가 있고 측정 가능한 데이터

**2. 정규분포 또는 정규분포에 근사**

- 히스토그램이 종 모양
- 극단적으로 치우치지 않은 분포

**3. 독립적인 관측값**

- 각 데이터가 서로 영향을 주지 않음
- 한 사람의 응답이 다른 사람에게 영향을 주지 않음

**4. 충분한 표본 크기**

- 그룹당 최소 20-30개 이상 권장
- 표본이 작으면 결과의 신뢰성이 떨어짐

### 사용하면 안 되는 경우


**1.** **표본 크기가 너무 작을 때**

- 그룹당 10개 미만
- 해결책: 더 많은 데이터 수집 또는 비모수 검정 사용

**2. 데이터가 정규분포가 아닐 때**

- 극심하게 치우친 분포
- 해결책: 데이터 변환 또는 Mann-Whitney U 검정 사용

**3. 세 개 이상 그룹 비교**

- A, B, C 세 그룹을 동시에 비교
- 해결책: ANOVA(분산분석) 사용

**4. 범주형 데이터**

- 성별, 선호도, 만족/불만족 등
- 해결책: 카이제곱 검정 사용

## 정리: 


### 핵심 포인트 정리

1. **목적**: 두 그룹의 평균이 실제로 다른지 우연인지 판단
2. **종류**: 일표본, 독립표본, 대응표본
3. **해석**: t-value는 차이의 크기, p-value는 우연일 확률
4. **조건**: 정규분포, 독립성, 충분한 표본 크기
5. **주의**: 통계적 유의성 ≠ 실질적 의미

### 단계별 체크리스트


**분석 전**:

- [ ] 연구 질문이 두 그룹 평균 비교인가?
- [ ] 데이터가 연속형인가?
- [ ] 표본 크기가 충분한가? (그룹당 20개 이상)
- [ ] 어떤 종류의 t-test가 적절한가?

**분석 중**:

- [ ] 정규분포 가정을 만족하는가?
- [ ] 독립성 가정을 만족하는가?
- [ ] 등분산성은 어떤가? (독립표본인 경우)

**분석 후**:

- [ ] p-value와 함께 효과크기도 보고했는가?
- [ ] 실질적 의미를 함께 해석했는가?
- [ ] 결과를 과대해석하지 않았는가?
